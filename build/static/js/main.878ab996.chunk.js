(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{252:function(e,t){},259:function(e,t,n){e.exports=n(620)},607:function(e,t){},608:function(e,t){},619:function(e,t,n){},620:function(e,t,n){"use strict";n.r(t);n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(114),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(307),n(308),n(310),n(311),n(312),n(313),n(155),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(217),n(391),n(392),n(393),n(394),n(218),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(165),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(547),n(228),n(548);var a=n(2),r=n.n(a),o=n(80),l=n.n(o),c=n(20),s=n(21),i=n(22),u=n(23),m=n(1),d=n(24),f=n(182),h="Marca/Modelo/Vers\xe3o",p="Modelo de Motor",b=function(e){return new Promise(function(e,t){var n=[],a=[];(function(e,t){return new Promise(function(e,n){fetch(t).then(function(e){return e.arrayBuffer()}).then(function(t){e(t)}).catch(function(e){})})})(0,"cars.xlsx").then(function(t,r){var o=new Uint8Array(t),l=f.read(o,{type:"array"}).Sheets;a=Object.keys(l).map(function(e){var t=e,n=f.utils.sheet_to_json(l[t],{range:1});return n.splice(-1,1),{model:t,data:n}}),n={models:v(Object.keys(l)),data:a},e(n)})})};function v(e){return e.map(function(e,t){return{value:t,label:e}})}var g=n(3),O=n(51),E=n(622),y=n(623),j=n(17),w=n(258);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.z.DropdownIndicator,Object.assign({className:"select-custom"},e),r.a.createElement("span",{className:"select-custom-arrow"})))},M=function(e){var t=e.options,n=e.field,a=e.form,o=(e.value,e.handleChange);console.log("form",a),console.log("field:",n);var l={control:function(e,t){return k({},e,{background:"#ffff",borderRadius:0,borderColor:"gray",boxShadow:null,"&:hover":{borderColor:(t.isFocused,"inherit")}})},menu:function(e){return k({},e,{borderRadius:0,hyphens:"auto",marginTop:0,textAlign:"left",wordWrap:"break-word"})},menuList:function(e){return k({},e,{padding:0})}};return r.a.createElement(w.a,{closeMenuOnSelect:!0,components:{DropdownIndicator:S},name:n.name,options:t,styles:l,onChange:function(e){!function(e){a.setFieldValue(n.name,e.value),"version"===n.name&&(a.setFieldValue("motor",null),a.setFieldValue("year",null)),o(e)}(e)}})};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this))).state={model:"",version:[{label:"",value:""}],motor:[{label:"",value:""}],selected:{model:"",version:"",motor:""}},n.handleModelChange=n.handleModelChange.bind(Object(m.a)(n)),n.handleVersionChange=n.handleVersionChange.bind(Object(m.a)(n)),n.handleMotorChange=n.handleMotorChange.bind(Object(m.a)(n)),n.handleYearChange=n.handleYearChange.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleModelChange",value:function(e){console.log("handle change",e);var t=function(e,t){var n=[];return e.data.forEach(function(e,a){a===t&&e.data.forEach(function(e){Object.keys(e).forEach(function(t){t===h&&n.indexOf(e[t])<0&&n.push(e[t])})})}),v(n)}(this.props.cars,e.value);this.setState(function(n){return{version:t,selected:F({},n.selected,{model:e})}})}},{key:"handleVersionChange",value:function(e){console.log("handle version",e),this.setState({motor:null});var t=function(e,t,n){var a=[];return console.log("model:",t),console.log("version:",n),e.data.forEach(function(e,r){r===t&&e.data.forEach(function(e){Object.keys(e).forEach(function(t){console.log("column:",t),t===p&&e[h]===n.label&&a.indexOf(e[t])<0&&a.push(e[t])})})}),v(a)}(this.props.cars,this.state.selected.model.value,e);this.setState(function(n){return{motor:t,selected:F({},n.selected,{version:e,motor:""})}})}},{key:"handleMotorChange",value:function(e){var t=function(e,t,n,a){var r=[];return e.data.forEach(function(e,o){o===t&&e.data.forEach(function(e){Object.keys(e).forEach(function(t){"Ano / Modelo"===t&&e[h]===n.label&&e[p]===a.label&&r.indexOf(e[t])<0&&r.push(e[t])})})}),v(r)}(this.props.cars,this.state.selected.model.value,this.state.selected.version,e);this.setState(function(n){return{year:t,selected:F({},n.selected,{motor:e})}})}},{key:"handleYearChange",value:function(e){var t=function(e,t,n,a,r){var o=[];return e.data.forEach(function(e,l){l===t&&e.data.forEach(function(e){Object.keys(e).forEach(function(t){e[h]===n.label&&e[p]===a.label&&e["Ano / Modelo"]===r.label&&o.indexOf(e[t])<0&&o.push({column:t,value:e[t]})})})}),o}(this.props.cars,this.state.selected.model.value,this.state.selected.version,this.state.selected.motor,e);this.setState(function(t){return{selected:F({},t.selected,{year:e})}}),this.props.completeForm(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"form-component"},r.a.createElement(O.d,{initialValues:{model:"",version:"",motor:"",year:""},enableReinitialize:!0,onSubmit:function(e,t){var n=t.setSubmitting;setTimeout(function(){alert(JSON.stringify(e,null,2)),n(!1)},400)}},function(t){t.isSubmitting,t.values;return r.a.createElement(O.c,null,r.a.createElement(E.a,null,r.a.createElement(y.a,{lg:3},r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"field-label"},"MODELO"),r.a.createElement(O.b,{name:"model",handleChange:e.handleModelChange,component:M,options:e.props.models}),r.a.createElement(O.a,{name:"model",component:"div"}))),r.a.createElement(y.a,{lg:3},r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"field-label"},"VERS\xc3O"),r.a.createElement(O.b,{name:"version",handleChange:e.handleVersionChange,component:M,options:e.state.version}),r.a.createElement(O.a,{name:"version",component:"div"}))),r.a.createElement(y.a,{lg:3},r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"field-label"},"MOTOR"),r.a.createElement(O.b,{name:"motor",handleChange:e.handleMotorChange,component:M,options:e.state.motor}),r.a.createElement(O.a,{name:"motor",component:"div"}))),r.a.createElement(y.a,{lg:3},r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"field-label"},"ANO"),r.a.createElement(O.b,{name:"year",component:M,options:e.state.year,handleChange:e.handleYearChange}),r.a.createElement(O.a,{name:"year",component:"div"})))))}))}}]),t}(a.Component),N=function(e){return r.a.createElement(E.a,{id:"form-results"},e.results.map(function(e){return r.a.createElement(y.a,{lg:"2"},r.a.createElement("h4",{className:"title"},e.column),r.a.createElement("p",{className:"text-content"},e.value))}))},V=n(624),x=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).completeForm=function(e){n.setState({showResults:!0,results:e})},n.state={json:!1,cars:null,car:{},results:[],showResults:!1},n.completeForm=n.completeForm.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;b().then(function(t){e.setState({cars:t})})}},{key:"render",value:function(){return(this.state.cars?this.state.cars:"")?r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,null,r.a.createElement("h2",{className:"form-title"},"Veja as informa\xe7\xf5es sobre o seu ve\xedculo:"),r.a.createElement(D,{models:this.state.cars.models,cars:this.state.cars,completeForm:this.completeForm}),this.state.showResults?r.a.createElement(N,{results:this.state.results}):"")):r.a.createElement("p",null,"Loading ...")}}]),t}(a.Component),R=(n(618),n(619),document.getElementById("root"));l.a.render(r.a.createElement(x,null),R)}},[[259,1,2]]]);
//# sourceMappingURL=main.878ab996.chunk.js.map